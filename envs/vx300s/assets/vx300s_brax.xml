<!--default = {-->
<!--# only used by `brax.physics.spring`:-->
<!--  'constraint_stiffness': (2000.0, 'body'),-->
<!--  'constraint_limit_stiffness': (1000.0, 'body'),-->
<!--  'constraint_vel_damping': (0.0, 'body'),-->
<!--# only used in `brax.physics.positional`:-->
<!--  'joint_scale_pos': (0.5, None),-->
<!--  'joint_scale_ang': (0.2, None),-->
<!--  'collide_scale': (1.0, None),-->
<!--# only used in `brax.physics.spring` and `brax.physics.positional`:-->
<!--  'ang_damping': (0.0, None),-->
<!--  'vel_damping': (0.0, None),-->
<!--  'baumgarte_erp': (0.1, None),-->
<!--  'spring_mass_scale': (0.0, None),-->
<!--  'spring_inertia_scale': (0.0, None),-->
<!--  'constraint_ang_damping': (0.0, 'body'),-->
<!--  'elasticity': (0.0, 'geom'),-->
<!--# only used in `brax.physics.generalized`:-->
<!--  'matrix_inv_iterations': (10, None),-->
<!--  'solver_iterations': (10, None),--> <!-- NOTE: maximum number of iterations of the constraint solver -->
<!--  'solver_maxls': (20, None),-->  <!-- NOTE: maximum number of line searches of the constraint solver -->
<!--UNKNOWN WHERE USED-->
<!--  'convex': (True, 'geom'),-->
<!--}-->

<mujoco model="vx300s">
    <compiler inertiafromgeom="true" angle="radian" coordinate="local" eulerseq="xyz" autolimits="true"/>
<!--    Reasonable params for A1: https://github.com/google/brax/issues/376 -->
<!--    <option timestep="0.01  "/>-->
<!--    <custom>-->
<!--        <numeric data="10" name="constraint_ang_damping"/>  &lt;!&ndash; positional & spring &ndash;&gt;-->
<!--        <numeric data="0.9" name="spring_inertia_scale"/> &lt;!&ndash; positional & spring &ndash;&gt;-->
<!--        <numeric data="0.5" name="joint_scale_pos"/> &lt;!&ndash; positional &ndash;&gt;-->
<!--        <numeric data="0.1" name="joint_scale_ang"/> &lt;!&ndash; positional &ndash;&gt;-->
<!--    </custom>-->

<!--    Pusher params-->
    <option timestep="0.015" iterations="10"/>
    <custom>
        <numeric data="10" name="constraint_ang_damping"/> <!-- positional & spring -->
        <numeric data="1" name="spring_inertia_scale"/>  <!-- positional & spring -->
        <numeric data="0" name="ang_damping"/>  <!-- positional & spring -->
        <numeric data="1" name="spring_mass_scale"/>  <!-- positional & spring -->
        <numeric data="0.5" name="joint_scale_pos"/> <!-- positional -->
        <numeric data="0.1" name="joint_scale_ang"/> <!-- positional -->
        <numeric data="3000" name="constraint_stiffness"/>  <!-- spring -->
        <numeric data="2000" name="constraint_limit_stiffness"/>  <!-- spring -->
        <numeric data="50" name="constraint_vel_damping"/>  <!-- spring -->
        <numeric data="10" name="solver_maxls"/>  <!-- generalized -->
    </custom>

    <default class="vx300s">
        <joint damping="1" armature="0.04" frictionloss="0.2" limited="true"/>
        <geom friction=".8 .1 .1" density="300" margin="0.002"/>
        <position  forcerange="-11 11"/>  <!-- NOTE: kp is not copied! -->
        <!-- Joints & controllers -->
        <default class="waist">
            <joint range="-3.14159265359 3.14159265359"/>
        </default>
        <default class="shoulder">
            <joint range="-1.8500490071139892 1.2566370614359172"/>
        </default>
        <default class="elbow">
            <joint range="-1.7627825445142729 1.6057029118347832"/>
        </default>
        <default class="forearm_roll">
            <joint range="-3.14159265359 3.14159265359"/>
        </default>
        <default class="wrist_angle">
            <joint range="-1.8675022996339325 2.234021442552742"/>
        </default>
        <default class="wrist_rotate">
            <joint range="-3.14159265359 3.14159265359"/>
        </default>
        <default class="left_finger">
            <joint range="0.0 0.036"/>
            <position ctrlrange="0.0 0.036" kp="100"/>
        </default>
        <default class="right_finger">
            <joint range="-0.036 0.0"/>
            <position ctrlrange="-0.036 0.0" kp="100"/>
        </default>
        <!-- Visualization -->
        <default class="arm">
            <geom type="mesh" rgba="0.04 0.04 0.04 1"/>
        </default>
        <default class="gripper">
            <geom type="mesh" rgba="0.04 0.04 0.04 1" />
        </default>
    </default>

    <asset>
<!--        <texture type="2d" name="interbotix_black" file="./vx300s_meshes/interbotix_black.png"/>-->
<!--        <material name="interbotix_black" texture="interbotix_black" specular="0" shininess="0.25"/>-->
        <mesh name="base_mesh" file="./vx300s_meshes/vx300s_1_base.stl" scale="0.001 0.001 0.001"/>
        <mesh name="shoulder_mesh" file="./vx300s_meshes/vx300s_2_shoulder.stl" scale="0.001 0.001 0.001"/>
        <mesh name="upper_arm_mesh" file="./vx300s_meshes/vx300s_3_upper_arm.stl" scale="0.001 0.001 0.001"/>
        <mesh name="upper_forearm_mesh" file="./vx300s_meshes/vx300s_4_upper_forearm.stl" scale="0.001 0.001 0.001"/>
        <mesh name="lower_forearm_mesh" file="./vx300s_meshes/vx300s_5_lower_forearm.stl" scale="0.001 0.001 0.001"/>
        <mesh name="wrist_mesh" file="./vx300s_meshes/vx300s_6_wrist.stl" scale="0.001 0.001 0.001"/>
        <mesh name="gripper_mesh" file="./vx300s_meshes/vx300s_7_gripper.stl" scale="0.001 0.001 0.001"/>
        <mesh name="gripper_prop_mesh" file="./vx300s_meshes/vx300s_8_gripper_prop.stl" scale="0.001 0.001 0.001"/>
        <mesh name="gripper_bar_mesh" file="./vx300s_meshes/vx300s_9_gripper_bar.stl" scale="0.001 0.001 0.001"/>
        <mesh name="gripper_finger_mesh" file="./vx300s_meshes/vx300s_10_gripper_finger.stl" scale="0.001 0.001 0.001"/>
    </asset>

    <worldbody>
        <!-- table -->
        <geom name="table" type="plane" pos="0 0.0 0" size="1 1 0.1" contype="8" conaffinity="11" condim="3"/>
        <!-- box -->
        <body name="box_xyz" pos="0.0 0.0 0.0" >
            <inertial euler="0 0 0" pos="0 0 0" mass="0.00001" diaginertia="0.000001 0.000001 0.000001"/>-->
            <joint name="box_slidex" type="slide" pos="0 0 0" axis="1 0 0" range="-2 2" damping="0.5"/>
            <joint name="box_slidey" type="slide" pos="0 0 0" axis="0 1 0" range="-2 2" damping="0.5"/>
            <joint name="box_slidez" type="slide" pos="0 0 0" axis="0 0 1" range="-2 0.3" damping="0.5"/>
            <body name="box" pos="0.0 0.0 0.0" >
                <geom name="box_geom" rgba="0.2 0.2 0.2 1" type="box" size="0.05 0.05 0.05" density="47" contype="7" conaffinity="8" condim="3"/>
                <joint name="box_yaw" type="hinge" pos="0 0 0" axis="0 0 1" limited="false" damping="0.5"/>
            </body>
        </body>
        <!-- goal -->
        <body name="goal" pos="0.0 0.0 -0.0485" >
            <geom name="goal_geom" rgba="0.2 0.2 0.2 1" type="box" size="0.05 0.05 0.05" density="47" contype="0" conaffinity="0"/>
            <joint name="goal_slidex" type="slide" pos="0 0 0" axis="1 0 0" range="-2 2" damping="0.5"/>
            <joint name="goal_slidey" type="slide" pos="0 0 0" axis="0 1 0" range="-2 2" damping="0.5"/>
        </body>
        <!-- vx300s -->
        <body class="vx300s" name="vx300s/base_link"  euler="0 0 0" pos="0 0 0">
            <geom class="arm" mesh="base_mesh" euler="0.0 0.0 1.5707963267948966" pos="0.0 0.0 0.0" contype="0" conaffinity="0"/>
<!--            <inertial pos="-0.0534774000 -0.0005625750 0.0205961000" mass="0.969034" diaginertia="0.0060240000 0.0017000000 0.0071620000"/>-->
            <body name="vx300s/shoulder_link" euler="0 0 0" pos="0 0 0.079">  <!-- pos="0 0 0.0787"-->
                <!-- Waist Joint -->
                <joint class="waist" name="waist" type="hinge" axis="0 0 1"/>
                <geom class="arm" mesh="shoulder_mesh" euler="0.0 0.0 1.5707963267948966" pos="0.0 0.0 -0.003" contype="0" conaffinity="0"/>
<!--                <inertial euler="0 0 1.57079632679" pos="0.0002592330 -0.0000033552 0.0116129000" mass="0.798614" fullinertia="0.0009388000 0.0011380000 0.0012010000 -0.0000000010 -0.0000000191 0.0000059568"/>-->
                <body name="vx300s/upper_arm_link" euler="0 0 0" pos="0 0 0.04805">
                    <!-- Shoulder Joint -->
                    <joint class="shoulder" name="shoulder" type="hinge" axis="0 1 0"/>
                    <geom class="arm" mesh="upper_arm_mesh" euler="0.0 0.0 1.5707963267948966" pos="0 0 0" contype="0" conaffinity="0"/>
<!--                    <inertial euler="0 0 1.57079632679" pos="0.0206949000 0.0000000004 0.2264590000" mass="0.792592" fullinertia="0.0089250000 0.0089370000 0.0009357000 0.0000000000 0.0000000000 0.0012010000"/>-->
                    <body name="vx300s/upper_forearm_link" euler="0.0 0.0 0.0" pos="0.05955 0.0 0.3">
                        <!-- Elbow Joint -->
                        <joint class="elbow" name="elbow" type="hinge" axis="0 1 0"/>
                        <geom class="arm" mesh="upper_forearm_mesh" contype="0" conaffinity="0"/>
<!--                        <inertial euler="3.14159265359 0 0" pos="0.105723 0 0" mass="0.322228" fullinertia="0.0001524000 0.0013420000 0.0014410000 -0.0000188300 -0.0000084064 0.0000012564"/>-->
                        <!-- Forearm Roll Joint -->
                        <body name="vx300s/lower_forearm_link"  euler="0 0 0" pos="0.2 0 0">
                            <joint class="forearm_roll" name="forearm_roll" type="hinge" axis="1 0 0"/>
                            <geom class="arm" mesh="lower_forearm_mesh" euler="3.141592653589793 0.0 0.0" pos="0 0 0" contype="0" conaffinity="0"/>
<!--                            <inertial euler="0 0 0" pos="0.0513477000 -0.0068046200 0" mass="0.414823" fullinertia="0.0001753000 0.0005269000 0.0005911000 -0.0000852800 0 0"/>-->
                            <body name="vx300s/wrist_link" euler="0 0 0" pos="0.1 0 0">
                                <!-- Wrist Angle Joint -->
                                <joint class="wrist_angle" name="wrist_angle" type="hinge" axis="0 1 0"/>
                                <geom class="arm" mesh="wrist_mesh" euler="0.0 0.0 1.5707963267948966" pos="0 0 0" contype="0" conaffinity="0"/>
                        <!--        <inertial euler="0 3.14159265359 1.57079632679" pos="0.0467430000 0.0000076652 -0.0105650000" mass="0.115395" fullinertia="0.0000463100 0.0000451400 0.0000527000 0.0000000195 0.0000042002 0.0000000023"/>-->

                                <body name="vx300s/gripper_link" euler="0.0 0.0 0.0" pos="0.069744 0.0 0.0">
                                    <!-- Wrist Rotate Joint -->
                                    <joint class="wrist_rotate" name="wrist_rotate" type="hinge" axis="1 0 0"/>
                                    <geom class="arm" mesh="gripper_mesh" euler="0.0 0.0 1.5707963267948966" pos="-0.02 0 0" contype="0" conaffinity="0"/>
                                    <geom class="arm" mesh="gripper_prop_mesh" euler="0 0 1.5707963267948966" pos="-0.02 0 0" contype="0" conaffinity="0"/>
                                    <!-- gripper bar -->
                                    <geom class="arm" mesh="gripper_bar_mesh" euler="0 0 1.5707963267948966" pos="-0.020175 0 0" contype="4" conaffinity="4"/>
                                    <!-- To follow the gripper link (ee_link is dummy joint)-->
                                    <body name="ee_link" euler="0 0 0" pos="0.1072 0 0">
                                        <joint name="ee_link" type="slide" axis="1 0 0" range="-0.01 0.01"/>
                                        <geom type="sphere" rgba="1 0 0 1" pos="0 0 0" size="0.01" contype="0" conaffinity="0"/>
                                    </body>
                                    <!-- Fixed gripper -->
                                    <geom class="gripper" mesh="gripper_finger_mesh" euler="0 1.5707963267948966  -1.5707963267948966" pos="0.0283 -0.0365 0" contype="1" conaffinity="1" condim="3"/>
                                    <geom class="gripper" mesh="gripper_finger_mesh" euler="3.141592653589793 1.5707963267948966  -1.5707963267948966" pos="0.0283 0.0365 0.0" contype="2" conaffinity="2" condim="3"/> <!-- 0.0575 -->
                                    <!-- Moving gripper -->
<!--                                    <body name="vx300s/left_finger_link" euler="0 0 0" pos="0.0687 0 0">  &lt;!&ndash; 0.025875 left_finger joint&ndash;&gt;-->
<!--                                        <joint class="left_finger" name="left_finger" type="slide" axis="0 1 0"/> &lt;!&ndash; 0.021 0.057 &ndash;&gt;-->
<!--                                        <geom class="gripper" mesh="gripper_finger_mesh" euler="0 1.5707963267948966  -1.5707963267948966" pos="-0.0404 -0.0365 0" contype="1" conaffinity="1" condim="3"/> &lt;!&ndash; -0.0575 &ndash;&gt;-->
<!--                                    </body>-->
<!--                                    <body name="vx300s/right_finger_link" euler="0 0 0" pos="0.0687 0 0">-->
<!--                                        <joint class="right_finger" name="right_finger" type="slide" axis="0 1 0"/> &lt;!&ndash; -0.057 -0.021 &ndash;&gt;-->
<!--                                        <geom class="gripper" mesh="gripper_finger_mesh" euler="3.141592653589793 1.5707963267948966  -1.5707963267948966" pos="-0.0404 0.0365 0.0" contype="2" conaffinity="2" condim="3"/> &lt;!&ndash; 0.0575 &ndash;&gt;-->
<!--                                    </body>-->
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>
        </body>
    </worldbody>


    <actuator>
        <!-- P-control -->
        <position class="waist" name="waist" joint="waist" ctrlrange="-3.14159265359 3.14159265359" kp="20"/>
        <position class="shoulder" name="shoulder" joint="shoulder" ctrlrange="-1.8500490071139892 1.2566370614359172" kp="50"/>
        <position class="elbow" name="elbow" joint="elbow" ctrlrange="-1.7627825445142729 1.6057029118347832" kp="50"/>
        <position class="forearm_roll" name="forearm_roll" joint="forearm_roll" ctrlrange="-3.14159265359 3.14159265359" kp="20"/>
        <position class="wrist_angle" name="wrist_angle" joint="wrist_angle" ctrlrange="-1.8675022996339325 2.234021442552742" kp="20"/>
        <position class="wrist_rotate" name="wrist_rotate" joint="wrist_rotate" ctrlrange="-3.14159265359 3.14159265359" kp="20"/>
        <!-- D-control -->
        <velocity class="waist" name="waist_vel" joint="waist" ctrlrange="-1 1" kv="2"/>
        <velocity class="shoulder" name="shoulder_vel" joint="shoulder" ctrlrange="-1 1" kv="10"/>
        <velocity class="elbow" name="elbow_vel" joint="elbow" ctrlrange="-1 1" kv="10"/>
        <velocity class="forearm_roll" name="forearm_roll_vel" joint="forearm_roll" ctrlrange="-1 1" kv="2"/>
        <velocity class="wrist_angle" name="wrist_angle_vel" joint="wrist_angle" ctrlrange="-1 1" kv="2"/>
        <velocity class="wrist_rotate" name="wrist_rotate_vel" joint="wrist_rotate" ctrlrange="-1 1" kv="2"/>
        <!-- Moving gripper -->
<!--        <position class="left_finger" name="left_finger" joint="left_finger"/>-->
<!--        <position class="right_finger" name="right_finger" joint="right_finger"/>-->
    </actuator>
<!--    <material name="interbotix_black" texture="interbotix_black"/>-->

</mujoco>

