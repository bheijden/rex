<mujoco model="vx300s">
    <compiler inertiafromgeom="true" angle="radian" coordinate="local" eulerseq="xyz" autolimits="true"/>
    <include file="./common/visual.xml"/>
    <include file="./common/skybox.xml"/>
    <include file="./common/materials.xml"/>

<!--    Pusher params-->
    <option timestep="0.015" iterations="10" ls_iterations="10" solver="Newton">
        <flag eulerdamp="enable"/>
    </option>

    <default class="vx300s">
        <joint damping="1" armature="0.04" frictionloss="0.2" limited="true"/>
        <geom friction=".8 .1 .1" density="300" margin="0.002"/>
        <position  forcerange="-11 11"/>  <!-- NOTE: kp is not copied! -->
        <!-- Joints & controllers -->
        <default class="waist">
            <joint range="-3.14159265359 3.14159265359"/>
            <position ctrlrange="-3.14159265359 3.14159265359" kp="10"/>
        </default>
        <default class="shoulder">
            <joint range="-1.8500490071139892 1.2566370614359172"/>
            <position ctrlrange="-1.8500490071139892 1.2566370614359172" kp="10"/>
        </default>
        <default class="elbow">
            <joint range="-1.7627825445142729 1.6057029118347832"/>
            <position ctrlrange="-1.7627825445142729 1.6057029118347832" kp="10"/>
        </default>
        <default class="forearm_roll">
            <joint range="-3.14159265359 3.14159265359"/>
            <position ctrlrange="-3.14159265359 3.14159265359" kp="10"/>
        </default>
        <default class="wrist_angle">
            <joint range="-1.8675022996339325 2.234021442552742"/>
            <position ctrlrange="-1.8675022996339325 2.234021442552742" kp="10"/>
        </default>
        <default class="wrist_rotate">
            <joint range="-3.14159265359 3.14159265359"/>
            <position ctrlrange="-3.14159265359 3.14159265359" kp="10"/>
        </default>
        <default class="left_finger">
            <joint range="0.0 0.036"/>
            <position ctrlrange="0.0 0.036" kp="100"/>
        </default>
        <default class="right_finger">
            <joint range="-0.036 0.0"/>
            <position ctrlrange="-0.036 0.0" kp="100"/>
        </default>
        <!-- Visualization -->
        <default class="arm">
            <geom type="capsule" rgba="0.04 0.04 0.04 1"/>
        </default>
        <default class="gripper">
            <geom type="mesh" rgba="0.04 0.04 0.04 1" />
        </default>
    </default>

    <asset>
<!--        <texture type="2d" name="interbotix_black" file="./vx300s_meshes/interbotix_black.png"/>-->
<!--        <material name="interbotix_black" texture="interbotix_black" specular="0" shininess="0.25"/>-->
        <mesh name="base_mesh" file="./vx300s_meshes/vx300s_1_base.stl" scale="0.001 0.001 0.001"/>
        <mesh name="shoulder_mesh" file="./vx300s_meshes/vx300s_2_shoulder.stl" scale="0.001 0.001 0.001"/>
        <mesh name="upper_arm_mesh" file="./vx300s_meshes/vx300s_3_upper_arm.stl" scale="0.001 0.001 0.001"/>
        <mesh name="upper_forearm_mesh" file="./vx300s_meshes/vx300s_4_upper_forearm.stl" scale="0.001 0.001 0.001"/>
        <mesh name="lower_forearm_mesh" file="./vx300s_meshes/vx300s_5_lower_forearm.stl" scale="0.001 0.001 0.001"/>
        <mesh name="wrist_mesh" file="./vx300s_meshes/vx300s_6_wrist.stl" scale="0.001 0.001 0.001"/>
        <mesh name="gripper_mesh" file="./vx300s_meshes/vx300s_7_gripper.stl" scale="0.001 0.001 0.001"/>
        <mesh name="gripper_prop_mesh" file="./vx300s_meshes/vx300s_8_gripper_prop.stl" scale="0.001 0.001 0.001"/>
        <mesh name="gripper_bar_mesh" file="./vx300s_meshes/vx300s_9_gripper_bar.stl" scale="0.001 0.001 0.001"/>
        <mesh name="gripper_finger_mesh" file="./vx300s_meshes/vx300s_10_gripper_finger.stl" scale="0.001 0.001 0.001"/>
<!--        <texture builtin="gradient" height="100" rgb1="1 1 1" rgb2="0 0 0" type="skybox" width="100"/>-->
<!--        <texture builtin="flat" height="1278" mark="cross" markrgb="1 1 1" name="texgeom" random="0.01" rgb1="0.8 0.6 0.4" rgb2="0.8 0.6 0.4" type="cube" width="127"/>-->
<!--        <texture builtin="checker" height="100" name="texplane" rgb1="0 0 0" rgb2="0.8 0.8 0.8" type="2d" width="100"/>-->
<!--        <material name="MatPlane" reflectance="0.5" shininess="1" specular="1" texrepeat="60 60" texture="texplane"/>-->
<!--        <material name="geom" texture="texgeom" texuniform="true"/>-->
    </asset>

    <worldbody>
        <light cutoff="100" diffuse="1 1 1" dir="-0 0 -1.3" directional="true" exponent="1" pos="0 0 1.3" specular=".1 .1 .1"/>
        <!-- table -->
        <geom name="table" size="3 3 .2" type="plane" material="grid" contype="8" conaffinity="11" condim="3"/>
<!--        <geom name="table" type="plane" pos="0 0.0 0" size="40 40 40" contype="8" rgba="0.8 0.9 0.8 1" material="MatPlane" conaffinity="11" condim="3"/>-->
        <!-- box -->
        <body name="box" pos="0.0 0.0 0.0" >
            <geom name="box_geom" rgba="0.2 0.2 0.2 1" type="box" size="0.05 0.05 0.05" density="47" contype="7" conaffinity="8" condim="3"/>
            <joint name="box_slidex" type="slide" pos="0 0 0" axis="1 0 0" range="-2 2" damping="0.5"/>
            <joint name="box_slidey" type="slide" pos="0 0 0" axis="0 1 0" range="-2 2" damping="0.5"/>
            <joint name="box_slidez" type="slide" pos="0 0 0" axis="0 0 1" range="-2 0.3" damping="0.5"/>
            <joint name="box_yaw" type="hinge" pos="0 0 0" axis="0 0 1" limited="false" damping="0.5"/>
<!--            <joint name="box_pitch" type="hinge" pos="0 0 0" axis="0 1 0" limited="false" damping="0.5"/>-->
<!--            <joint name="box_roll" type="hinge" pos="0 0 0" axis="1 0 0" limited="false" damping="0.5"/>-->
        </body>
<!--        <body name="box_xyz" pos="0.0 0.0 0.0" >-->
<!--            <inertial euler="0 0 0" pos="0 0 0" mass="0.00001" diaginertia="0.000001 0.000001 0.000001"/>&ndash;&gt;-->
<!--            <joint name="box_slidex" type="slide" pos="0 0 0" axis="1 0 0" range="-2 2" damping="0.5"/>-->
<!--            <joint name="box_slidey" type="slide" pos="0 0 0" axis="0 1 0" range="-2 2" damping="0.5"/>-->
<!--            <joint name="box_slidez" type="slide" pos="0 0 0" axis="0 0 1" range="-2 0.3" damping="0.5"/>-->
<!--            <body name="box" pos="0.0 0.0 0.0" >-->
<!--                <geom name="box_geom" rgba="0.2 0.2 0.2 1" type="box" size="0.05 0.05 0.05" density="47" contype="7" conaffinity="8" condim="3"/>-->
<!--                <joint name="box_yaw" type="hinge" pos="0 0 0" axis="0 0 1" limited="false" damping="0.5"/>-->
<!--&lt;!&ndash;            <joint name="box_pitch" type="hinge" pos="0 0 0" axis="0 1 0" limited="false" damping="0.5"/>&ndash;&gt;-->
<!--&lt;!&ndash;            <joint name="box_roll" type="hinge" pos="0 0 0" axis="1 0 0" limited="false" damping="0.5"/>&ndash;&gt;-->
<!--            </body>-->
<!--        </body>-->
        <!-- goal -->
        <body name="goal" pos="0.0 0.0 -0.0485" >
            <geom name="goal_geom" rgba="0.2 0.2 0.2 1" type="box" size="0.05 0.05 0.05" density="47" contype="0" conaffinity="0"/>
            <joint name="goal_slidex" type="slide" pos="0 0 0" axis="1 0 0" range="-2 2" damping="0.5"/>
            <joint name="goal_slidey" type="slide" pos="0 0 0" axis="0 1 0" range="-2 2" damping="0.5"/>
        </body>
        <!-- vx300s -->
        <body childclass="vx300s" name="vx300s/base_link"  euler="0 0 0" pos="0 0 0">
            <geom class="arm" mesh="base_mesh" euler="0.0 0.0 1.5707963267948966" pos="0.0 0.0 0.0" contype="0" conaffinity="0"/>
<!--            <inertial pos="-0.0534774000 -0.0005625750 0.0205961000" mass="0.969034" diaginertia="0.0060240000 0.0017000000 0.0071620000"/>-->
            <body name="vx300s/shoulder_link" euler="0 0 0" pos="0 0 0.079">  <!-- pos="0 0 0.0787"-->
                <!-- Waist Joint -->
                <joint class="waist" name="waist" type="hinge" axis="0 0 1"/>
                <geom class="arm" mesh="shoulder_mesh" euler="0.0 0.0 1.5707963267948966" pos="0.0 0.0 -0.003" contype="0" conaffinity="0"/>
<!--                <inertial euler="0 0 1.57079632679" pos="0.0002592330 -0.0000033552 0.0116129000" mass="0.798614" fullinertia="0.0009388000 0.0011380000 0.0012010000 -0.0000000010 -0.0000000191 0.0000059568"/>-->
                <body name="vx300s/upper_arm_link" euler="0 0 0" pos="0 0 0.04805">
                    <!-- Shoulder Joint -->
                    <joint class="shoulder" name="shoulder" type="hinge" axis="0 1 0"/>
                    <geom class="arm" mesh="upper_arm_mesh" euler="0.0 0.0 1.5707963267948966" pos="0 0 0" contype="0" conaffinity="0"/>
<!--                    <inertial euler="0 0 1.57079632679" pos="0.0206949000 0.0000000004 0.2264590000" mass="0.792592" fullinertia="0.0089250000 0.0089370000 0.0009357000 0.0000000000 0.0000000000 0.0012010000"/>-->
                    <body name="vx300s/upper_forearm_link" euler="0.0 0.0 0.0" pos="0.05955 0.0 0.3">
                        <!-- Elbow Joint -->
                        <joint class="elbow" name="elbow" type="hinge" axis="0 1 0"/>
                        <geom class="arm" mesh="upper_forearm_mesh" contype="0" conaffinity="0"/>
<!--                        <inertial euler="3.14159265359 0 0" pos="0.105723 0 0" mass="0.322228" fullinertia="0.0001524000 0.0013420000 0.0014410000 -0.0000188300 -0.0000084064 0.0000012564"/>-->
                        <!-- Forearm Roll Joint -->
                        <body name="vx300s/lower_forearm_link"  euler="0 0 0" pos="0.2 0 0">
                            <joint class="forearm_roll" name="forearm_roll" type="hinge" axis="1 0 0"/>
                            <geom class="arm" mesh="lower_forearm_mesh" euler="3.141592653589793 0.0 0.0" pos="0 0 0" contype="0" conaffinity="0"/>
<!--                            <inertial euler="0 0 0" pos="0.0513477000 -0.0068046200 0" mass="0.414823" fullinertia="0.0001753000 0.0005269000 0.0005911000 -0.0000852800 0 0"/>-->
                            <body name="vx300s/wrist_link" euler="0 0 0" pos="0.1 0 0">
                                <!-- Wrist Angle Joint -->
                                <joint class="wrist_angle" name="wrist_angle" type="hinge" axis="0 1 0"/>
                                <geom class="arm" mesh="wrist_mesh" euler="0.0 0.0 1.5707963267948966" pos="0 0 0" contype="0" conaffinity="0"/>
                        <!--        <inertial euler="0 3.14159265359 1.57079632679" pos="0.0467430000 0.0000076652 -0.0105650000" mass="0.115395" fullinertia="0.0000463100 0.0000451400 0.0000527000 0.0000000195 0.0000042002 0.0000000023"/>-->

                                <body name="vx300s/gripper_link" euler="0.0 0.0 0.0" pos="0.069744 0.0 0.0">
                                    <!-- Wrist Rotate Joint -->
                                    <joint class="wrist_rotate" name="wrist_rotate" type="hinge" axis="1 0 0"/>
<!--                                    <geom class="arm" mesh="gripper_mesh" euler="0.0 0.0 1.5707963267948966" pos="-0.02 0 0" contype="0" conaffinity="0"/>-->
<!--                                    <geom class="arm" mesh="gripper_prop_mesh" euler="0 0 1.5707963267948966" pos="-0.02 0 0" contype="0" conaffinity="0"/>-->
                                    <!-- gripper bar -->
                                    <geom class="arm" mesh="gripper_bar_mesh" euler="0 0 1.5707963267948966" pos="-0.020175 0 0" contype="0" conaffinity="0"/>
                                    <!-- To follow the gripper link (ee_link is dummy joint)-->
                                    <body name="ee_link" euler="0 0 0" pos="0.1072 0 0">
                                        <joint name="ee_link" type="slide" axis="1 0 0" range="-0.01 0.01"/>
                                        <geom type="sphere" rgba="1 0 0 1" pos="0 0 0" size="0.01" contype="0" conaffinity="0"/>
                                    </body>
                                    <!-- Fixed gripper -->
<!--                                    <geom type="box"  rgba="0.2 0.2 0.2 1" size="0.025 0.025 0.023" pos="0.1072 0 0" density="47" contype="1" conaffinity="1" condim="3"/>-->
                                    <geom type="capsule"  rgba="0.2 0.2 0.2 1" size="0.025" fromto="0 0 0 0.1072 0 0" density="47" contype="1" conaffinity="1" condim="3"/>-->
<!--                                    <geom class="gripper" mesh="gripper_finger_mesh" euler="0 1.5707963267948966  -1.5707963267948966" pos="0.0283 -0.0365 0" contype="1" conaffinity="1" condim="3"/>-->
<!--                                    <geom class="gripper" mesh="gripper_finger_mesh" euler="3.141592653589793 1.5707963267948966  -1.5707963267948966" pos="0.0283 0.0365 0.0" contype="2" conaffinity="2" condim="3"/> &lt;!&ndash; 0.0575 &ndash;&gt;-->
                                    <!-- Moving gripper -->
<!--                                    <body name="vx300s/left_finger_link" euler="0 0 0" pos="0.0687 0 0">  &lt;!&ndash; 0.025875 left_finger joint&ndash;&gt;-->
<!--                                        <joint class="left_finger" name="left_finger" type="slide" axis="0 1 0"/> &lt;!&ndash; 0.021 0.057 &ndash;&gt;-->
<!--                                        <geom class="gripper" mesh="gripper_finger_mesh" euler="0 1.5707963267948966  -1.5707963267948966" pos="-0.0404 -0.0365 0" contype="1" conaffinity="1" condim="3"/> &lt;!&ndash; -0.0575 &ndash;&gt;-->
<!--                                    </body>-->
<!--                                    <body name="vx300s/right_finger_link" euler="0 0 0" pos="0.0687 0 0">-->
<!--                                        <joint class="right_finger" name="right_finger" type="slide" axis="0 1 0"/> &lt;!&ndash; -0.057 -0.021 &ndash;&gt;-->
<!--                                        <geom class="gripper" mesh="gripper_finger_mesh" euler="3.141592653589793 1.5707963267948966  -1.5707963267948966" pos="-0.0404 0.0365 0.0" contype="2" conaffinity="2" condim="3"/> &lt;!&ndash; 0.0575 &ndash;&gt;-->
<!--                                    </body>-->
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>
        </body>
    </worldbody>


    <actuator>
<!--        <position name="box_yaw" joint="box_yaw"/>-->
<!--        <position name="box_slidex" joint="box_slidex"/>-->
<!--        <position name="box_slidey" joint="box_slidey"/>-->
<!--        <position name="box_slidez" joint="box_slidez"/>-->
        <position class="waist" name="waist" joint="waist"/>
        <position class="shoulder" name="shoulder" joint="shoulder"/>
        <position class="elbow" name="elbow" joint="elbow"/>
        <position class="forearm_roll" name="forearm_roll" joint="forearm_roll"/>
        <position class="wrist_angle" name="wrist_angle" joint="wrist_angle"/>
        <position class="wrist_rotate" name="wrist_rotate" joint="wrist_rotate"/>
        <!-- Moving gripper -->
<!--        <position class="left_finger" name="left_finger" joint="left_finger"/>-->
<!--        <position class="right_finger" name="right_finger" joint="right_finger"/>-->
    </actuator>
<!--    <material name="interbotix_black" texture="interbotix_black"/>-->

</mujoco>

